---
layout: post
title: "【算法入门】广度 宽度优先搜索(BFS)"
date: 2015-08-28 10:54:09 +0800
comments: true
categories:❸ C/C++语言基础,----- 数据结构,❺ 算法及基础题,----- 递归搜索回溯,❻ 其他,----- 好文/知识点
tags: [算法,搜索,遍历]
keyword: 陈浩翔, 谙忆
description: 广度/宽度优先搜索(BFS)

【算法入门】







1.前言

广度优先搜索（也称宽度优先搜索，缩写BFS，以下采用广度来描述）是连通图的一种遍历策略。因为它的思想是从一个顶点V0开始，辐射状地优先遍历其周围较广的区域，故得名。 

一般可以用它做什么呢？一个最直观经典的例子就是走迷宫，我们从起点开始，找出到终点的最短路程，很多最短路径算法就是基于广度优先的思想 
---


广度/宽度优先搜索(BFS)

【算法入门】







1.前言

广度优先搜索（也称宽度优先搜索，缩写BFS，以下采用广度来描述）是连通图的一种遍历策略。因为它的思想是从一个顶点V0开始，辐射状地优先遍历其周围较广的区域，故得名。 

一般可以用它做什么呢？一个最直观经典的例子就是走迷宫，我们从起点开始，找出到终点的最短路程，很多最短路径算法就是基于广度优先的思想
<!-- more -->
----------


<h1 style="margin:0px; padding:0px; color:rgb(51,51,51); font-family:Arial; line-height:26px; text-align:center">
广度/<span style="font-family:宋体">宽度</span>优先搜索(BFS)</h1>
<h2 style="margin:0px; padding:0px; color:rgb(51,51,51); font-family:Arial; line-height:26px; text-align:center">
<a target="_blank" target="_blank" name="t1" style="color:rgb(51,102,153)"></a>【算法入门】</h2>
<p style="color:rgb(51,51,51); font-family:Arial; font-size:14px; line-height:26px; text-align:center">
<br>
</p>
<p style="color:rgb(51,51,51); font-family:Arial; font-size:14px; line-height:26px; text-align:right">
<br>
</p>
<h1 style="margin:0px; padding:0px; color:rgb(51,51,51); font-family:Arial; line-height:26px">
<a target="_blank" target="_blank" name="t2" style="color:rgb(51,102,153)"></a>1.<span style="font-family:宋体">前言</span></h1>
<p style="color:rgb(51,51,51); font-family:Arial; font-size:14px; line-height:26px">
广度优先搜索（也称宽度优先搜索，缩写BFS，以下采用广度来描述）是<a target="_blank" target="_blank" href="http://baike.baidu.com/view/3148644.htm" style="color:rgb(51,102,153); text-decoration:none">连通图</a>的一种<a target="_blank" target="_blank" href="http://baike.baidu.com/view/549585.htm" style="color:rgb(51,102,153); text-decoration:none">遍历</a>策略。因为它的思想是从一个顶点<span style="font-family:'Courier New'">V</span>0开始，辐射状地优先遍历其周围较广的区域，故得名。&nbsp;</p>
<p style="color:rgb(51,51,51); font-family:Arial; font-size:14px; line-height:26px">
一般可以用它做什么呢？一个最直观经典的例子就是走迷宫，我们从起点开始，找出到终点的最短路程，很多最短路径算法就是基于广度优先的思想成立的。</p>
<p style="color:rgb(51,51,51); font-family:Arial; font-size:14px; line-height:26px">
算法导论里边会给出不少严&#26684;的证明，我想尽量写得通俗一点，因此采用一些直观的讲法来伪装成证明，关键的<span style="font-family:'Courier New'">point</span><span style="font-family:宋体">能够帮你</span><span style="font-family:'Courier New'">get</span><span style="font-family:宋体">到就好。</span></p>
<h1 style="margin:0px; padding:0px; color:rgb(51,51,51); font-family:Arial; line-height:26px">
<a target="_blank" target="_blank" name="t3" style="color:rgb(51,102,153)"></a>2.<span style="font-family:宋体">图的概念</span></h1>
<p style="color:rgb(51,51,51); font-family:Arial; font-size:14px; line-height:26px">
刚刚说的广度优先搜索是连通图的一种遍历策略，那就有必要将图先简单解释一下。</p>
<p style="color:rgb(51,51,51); font-family:Arial; font-size:14px; line-height:26px; text-align:center">
<img src="http://my.csdn.net/uploads/201204/30/1335725737_2388.png" alt="" style="border:none; max-width:100%"><br>
</p>
<p style="color:rgb(51,51,51); font-family:Arial; font-size:14px; line-height:26px; text-align:center">
</p>
<p style="color:rgb(51,51,51); font-family:Arial; font-size:14px; line-height:26px; text-align:center">
<span style="color:rgb(0,0,255)">图<span style="font-family:'Courier New'">2-1&nbsp;</span><span style="font-family:宋体">连通图示例图</span></span></p>
<p style="color:rgb(51,51,51); font-family:Arial; font-size:14px; line-height:26px">
如图<span style="font-family:'Courier New'">2-1</span><span style="font-family:宋体">所示，这就是我们所说的连通图，这里展示的是一个无向图，连通即每</span><span style="font-family:'Courier New'">2</span><span style="font-family:宋体">个点都有至少一条路径相连，例如</span><span style="font-family:'Courier New'">V</span>0到<span style="font-family:'Courier New'">V</span>4的路径就是<span style="font-family:'Courier New'">V</span>0-&gt;V1-&gt;V4。</p>
<p style="color:rgb(51,51,51); font-family:Arial; font-size:14px; line-height:26px">
一般我们把顶点用<span style="font-family:'Courier New'">V</span><span style="font-family:宋体">缩写，把边用</span><span style="font-family:'Courier New'">E</span><span style="font-family:宋体">缩写。</span></p>
<h1 style="margin:0px; padding:0px; color:rgb(51,51,51); font-family:Arial; line-height:26px">
<a target="_blank" target="_blank" name="t4" style="color:rgb(51,102,153)"></a>3.<span style="font-family:宋体">广度优先搜索</span></h1>
<h2 style="margin:0px; padding:0px; color:rgb(51,51,51); font-family:Arial; line-height:26px">
<a target="_blank" target="_blank" name="t5" style="color:rgb(51,102,153)"></a><br>
3.1.<span style="font-family:黑体">算法的基本思路</span></h2>
<p style="color:rgb(51,51,51); font-family:Arial; font-size:14px; line-height:26px">
常常我们有这样一个问题，从一个起点开始要到一个终点，我们要找寻一条最短的路径，从图<span style="font-family:'Courier New'">2-1</span><span style="font-family:宋体">举例，如果我们要求</span><span style="font-family:'Courier New'">V</span>0到<span style="font-family:'Courier New'">V</span>6的一条最短路（假设走一个节点按一步来算）<span style="color:rgb(255,0,0)">【注意：此处你可以选择不看这段文字直接看图<span style="font-family:'Courier New'">3-1</span><span style="font-family:宋体">】</span></span>，我们明显看出这条路径就是<span style="font-family:'Courier New'">V</span>0-&gt;V2-&gt;V6，而不是<span style="font-family:'Courier New'">V</span>0-&gt;V3-&gt;V5-&gt;V6。先想想你自己刚刚是怎么找到这条路径的：首先看跟<span style="font-family:'Courier New'">V</span>0直接连接的节点<span style="font-family:'Courier New'">V</span>1、<span style="font-family:'Courier New'">V</span>2、<span style="font-family:'Courier New'">V</span>3，发现没有<span style="font-family:'Courier New'">V6</span><span style="font-family:宋体">，进而再看刚刚</span><span style="font-family:'Courier New'">V</span>1、<span style="font-family:'Courier New'">V</span>2、<span style="font-family:'Courier New'">V</span>3的直接连接节点分别是：<span style="font-family:'Courier New'">{</span>V0、<span style="font-family:'Courier New'">V</span>4}<span style="font-family:宋体">、</span><span style="font-family:'Courier New'">{</span>V0、V1、<span style="font-family:'Courier New'">V</span>6}<span style="font-family:宋体">、</span><span style="font-family:'Courier New'">{</span>V0、V1、<span style="font-family:'Courier New'">V</span>5}<span style="font-family:宋体">（这里画删除线的意思是那些顶点在我们刚刚的搜索过程中已经找过了，我们不需要重新回头再看他们了）。这时候我们从</span><span style="font-family:'Courier New'">V2</span><span style="font-family:宋体">的连通节点集中找到了</span><span style="font-family:'Courier New'">V</span>6，那说明我们找到了这条<span style="font-family:'Courier New'">V</span>0到<span style="font-family:'Courier New'">V</span>6的最短路径：V0-&gt;V2-&gt;V6，虽然你再进一步搜索<span style="font-family:'Courier New'">V5</span><span style="font-family:宋体">的连接节点集合后会找到另一条路径</span>V0-&gt;V3-&gt;V5-&gt;V6，但显然他不是最短路径。</p>
<p style="color:rgb(51,51,51); font-family:Arial; font-size:14px; line-height:26px">
你会看到这里有点像辐射形状的搜索方式，从一个节点，向其旁边节点传递病毒，就这样一层一层的传递辐射下去，知道目标节点被辐射中了，此时就已经找到了从起点到终点的路径。</p>
<p style="color:rgb(51,51,51); font-family:Arial; font-size:14px; line-height:26px">
我们采用示例图来说明这个过程，在搜索的过程中，初始所有节点是白色（代表了所有点都还没开始搜索），把起点<span style="font-family:'Courier New'">V</span>0标志成灰色（表示即将辐射<span style="font-family:'Courier New'">V</span>0），下一步搜索的时候，我们把所有的灰色节点访问一次，然后将其变成黑色（表示已经被辐射过了），进而再将他们所能到达的节点标志成灰色（因为那些节点是下一步搜索的目标点了），但是这里有个判断，就像刚刚的例子，当访问到<span style="font-family:'Courier New'">V1</span><span style="font-family:宋体">节点的时候，它的下一个节点应该是</span><span style="font-family:'Courier New'">V</span>0和<span style="font-family:'Courier New'">V</span>4，但是<span style="font-family:'Courier New'">V</span>0已经在前面被染成黑色了，所以不会将它染灰色。这样持续下去，直到目标节点<span style="font-family:'Courier New'">V</span>6被染灰色，说明了下一步就到终点了，没必要再搜索（染色）其他节点了，此时可以结束搜索了，整个搜索就结束了。然后根据搜索过程，反过来把最短路径找出来，图<span style="font-family:'Courier New'">3-1</span><span style="font-family:宋体">中把最终路径上的节点标志成绿色。</span></p>
<p style="color:rgb(51,51,51); font-family:Arial; font-size:14px; line-height:26px">
整个过程的实例图如图<span style="font-family:'Courier New'">3-1</span><span style="font-family:宋体">所示。</span></p>
<p style="color:rgb(51,51,51); font-family:Arial; font-size:14px; line-height:26px; text-align:center">
<span style="color:rgb(51,51,153)"><img src="http://my.csdn.net/uploads/201204/30/1335725797_1963.png" alt="" style="border:none; max-width:100%">初始全部都是白色（未访问</span><span style="color:rgb(51,51,153)">）</span></p>
<p style="color:rgb(51,51,51); font-family:Arial; font-size:14px; line-height:26px; text-align:center">
<span style="color:rgb(51,51,153)"><img src="http://my.csdn.net/uploads/201204/30/1335725807_5317.png" alt="" style="border:none; max-width:100%">即将搜索起点<span style="font-family:'Courier New'">V</span></span><span style="color:rgb(51,51,153)">0</span><span style="color:rgb(51,51,153)">（灰色）</span></p>
<p style="color:rgb(51,51,51); font-family:Arial; font-size:14px; line-height:26px; text-align:center">
<span style="color:rgb(51,51,153)"><img src="http://my.csdn.net/uploads/201204/30/1335725819_1561.png" alt="" style="border:none; max-width:100%">已搜索<span style="font-family:'Courier New'">V</span></span><span style="color:rgb(51,51,153)">0</span><span style="color:rgb(51,51,153)">，即将搜索<span style="font-family:'Courier New'">V</span></span><span style="color:rgb(51,51,153)">1<span style="font-family:宋体">、</span></span><span style="color:rgb(51,51,153)">V</span><span style="color:rgb(51,51,153)">2</span><span style="color:rgb(51,51,153)">、<span style="font-family:'Courier New'">V</span></span><span style="color:rgb(51,51,153)">3</span></p>
<p style="color:rgb(51,51,51); font-family:Arial; font-size:14px; line-height:26px; text-align:center">
<span style="color:rgb(51,51,153)"><img src="http://my.csdn.net/uploads/201204/30/1335725831_7574.png" alt="" style="border:none; max-width:100%">……终点<span style="font-family:'Courier New'">V</span></span><span style="color:rgb(51,51,153)">6</span><span style="color:rgb(51,51,153)">被染灰色，终止</span></p>
<p style="color:rgb(51,51,51); font-family:Arial; font-size:14px; line-height:26px; text-align:center">
<span style="color:rgb(0,0,128)"><img src="http://my.csdn.net/uploads/201204/30/1335725843_7283.png" alt="" style="border:none; max-width:100%">找到最短路径</span></p>
<p style="color:rgb(51,51,51); font-family:Arial; font-size:14px; line-height:26px; text-align:center">
<span style="color:rgb(0,0,255)">图<span style="font-family:'Courier New'">3-1&nbsp;</span><span style="font-family:宋体">寻找</span><span style="font-family:'Courier New'">V</span></span><span style="color:rgb(0,0,255)">0</span><span style="color:rgb(0,0,255)">到<span style="font-family:'Courier New'">V</span></span><span style="color:rgb(0,0,255)">6</span><span style="color:rgb(0,0,255)">的过程</span></p>
<h2 style="margin:0px; padding:0px; color:rgb(51,51,51); font-family:Arial; line-height:26px">
<a target="_blank" target="_blank" name="t6" style="color:rgb(51,102,153)"></a>3.2.<span style="font-family:黑体">广度优先搜索流程图</span></h2>
<p style="color:rgb(51,51,51); font-family:Arial; font-size:14px; line-height:26px">
</p>
<p style="color:rgb(51,51,51); font-family:Arial; font-size:14px; line-height:26px; text-align:center">
<span style="color:rgb(0,0,255)"><img src="http://my.csdn.net/uploads/201204/30/1335725885_9403.png" alt="" style="border:none; max-width:100%"><br>
</span></p>
<p style="color:rgb(51,51,51); font-family:Arial; font-size:14px; line-height:26px; text-align:center">
<span style="color:rgb(0,0,255)">图<span style="font-family:'Courier New'">3-2&nbsp;</span><span style="font-family:宋体">广度优先搜索的流程图</span></span></p>
<p style="color:rgb(51,51,51); font-family:Arial; font-size:14px; line-height:26px">
在写具体代码之前有必要先举个实例，详见第<span style="font-family:'Courier New'">4</span><span style="font-family:宋体">节。</span></p>
<h1 style="margin:0px; padding:0px; color:rgb(51,51,51); font-family:Arial; line-height:26px">
<a target="_blank" target="_blank" name="t7" style="color:rgb(51,102,153)"></a>4.<span style="font-family:宋体">实例</span></h1>
<p style="color:rgb(51,51,51); font-family:Arial; font-size:14px; line-height:26px">
第一节就讲过广度优先搜索适用于迷宫类问题，这里先给出<a target="_blank" target="_blank" href="http://poj.org/problem?id=3984" style="color:rgb(51,102,153); text-decoration:none"><span style="color:rgb(0,0,255)">POJ3984</span></a>《迷宫问题》。</p>
<p style="color:rgb(51,51,51); font-family:Arial; font-size:14px; line-height:26px">
</p>
<p style="color:rgb(51,51,51); font-family:Arial; font-size:14px; line-height:26px">
《迷宫问题》</p>
<p style="color:rgb(51,51,51); font-family:Arial; font-size:14px; line-height:26px; background-color:rgb(243,243,243)">
定义一个二维数组：&nbsp;<br>
int&nbsp;maze[5][5]&nbsp;=&nbsp;{<br>
&nbsp;&nbsp;&nbsp;&nbsp;0,&nbsp;1,&nbsp;0,&nbsp;0,&nbsp;0,<br>
&nbsp;&nbsp;&nbsp;&nbsp;0,&nbsp;1,&nbsp;0,&nbsp;1,&nbsp;0,<br>
&nbsp;&nbsp;&nbsp;&nbsp;0,&nbsp;0,&nbsp;0,&nbsp;0,&nbsp;0,<br>
&nbsp;&nbsp;&nbsp;&nbsp;0,&nbsp;1,&nbsp;1,&nbsp;1,&nbsp;0,<br>
&nbsp;&nbsp;&nbsp;&nbsp;0,&nbsp;0,&nbsp;0,&nbsp;1,&nbsp;0,<br>
};<br>
它表示一个迷宫，其中的<span style="font-family:'Courier New'">1</span><span style="font-family:宋体">表示墙壁，</span><span style="font-family:'Courier New'">0</span><span style="font-family:宋体">表示可以走的路，只能横着走或竖着走，不能斜着走，要求编程序找出从左上角到右下角的最短路线。</span>&nbsp;</p>
<p style="color:rgb(51,51,51); font-family:Arial; font-size:14px; line-height:26px">
</p>
<p style="color:rgb(51,51,51); font-family:Arial; font-size:14px; line-height:26px">
题目保证了输入是一定有解的。</p>
<p style="color:rgb(51,51,51); font-family:Arial; font-size:14px; line-height:26px">
也许你会问，这个跟广度优先搜索的图怎么对应起来？<span style="color:rgb(255,0,0)">BFS</span><span style="color:rgb(255,0,0)">的第一步就是要识别图的节点跟边！</span></p>
<h2 style="margin:0px; padding:0px; color:rgb(51,51,51); font-family:Arial; line-height:26px">
<a target="_blank" target="_blank" name="t8" style="color:rgb(51,102,153)"></a>4.1.<span style="font-family:黑体">识别出节点跟边</span></h2>
<p style="color:rgb(51,51,51); font-family:Arial; font-size:14px; line-height:26px">
节点就是某种状态，边就是节点与节点间的某种规则。</p>
<p style="color:rgb(51,51,51); font-family:Arial; font-size:14px; line-height:26px">
对应于《迷宫问题》，你可以这么认为，节点就是迷宫路上的每一个&#26684;子（非墙），走迷宫的时候，&#26684;子间的关系是什么呢？按照题目意思，我们只能横竖走，因此我们可以这样看，&#26684;子与它横竖方向上的&#26684;子是有连通关系的，只要这个&#26684;子跟另一个&#26684;子是连通的，那么两个&#26684;子节点间就有一条边。</p>
<p style="color:rgb(51,51,51); font-family:Arial; font-size:14px; line-height:26px">
如果说本题再修改成斜方向也可以走的话，那么就是&#26684;子跟周围<span style="font-family:'Courier New'">8</span><span style="font-family:宋体">个&#26684;子都可以连通，于是一个节点就会有</span><span style="font-family:'Courier New'">8</span><span style="font-family:宋体">条边（除了边界的节点）。</span></p>
<h2 style="margin:0px; padding:0px; color:rgb(51,51,51); font-family:Arial; line-height:26px">
<a target="_blank" target="_blank" name="t9" style="color:rgb(51,102,153)"></a>4.2.<span style="font-family:黑体">解题思路</span></h2>
<p style="color:rgb(51,51,51); font-family:Arial; font-size:14px; line-height:26px">
对应于题目的输入数组：</p>
<p style="color:rgb(51,51,51); font-family:Arial; font-size:14px; line-height:26px">
0,&nbsp;1,&nbsp;0,&nbsp;0,&nbsp;0,<br>
&nbsp;&nbsp;&nbsp;&nbsp;0,&nbsp;1,&nbsp;0,&nbsp;1,&nbsp;0,<br>
&nbsp;&nbsp;&nbsp;&nbsp;0,&nbsp;0,&nbsp;0,&nbsp;0,&nbsp;0,<br>
&nbsp;&nbsp;&nbsp;&nbsp;0,&nbsp;1,&nbsp;1,&nbsp;1,&nbsp;0,<br>
&nbsp;&nbsp;&nbsp;&nbsp;0,&nbsp;0,&nbsp;0,&nbsp;1,&nbsp;0,</p>
<p style="color:rgb(51,51,51); font-family:Arial; font-size:14px; line-height:26px">
我们把节点定义为<span style="font-family:'Courier New'">(x,y)</span><span style="font-family:宋体">，</span><span style="font-family:'Courier New'">(x,y)</span><span style="font-family:宋体">表示数组</span><span style="font-family:'Courier New'">maze</span><span style="font-family:宋体">的项</span><span style="font-family:'Courier New'">maze[x][y]</span><span style="font-family:宋体">。</span></p>
<p style="color:rgb(51,51,51); font-family:Arial; font-size:14px; line-height:26px">
于是起点就是<span style="font-family:'Courier New'">(0,0)</span><span style="font-family:宋体">，终点是</span><span style="font-family:'Courier New'">(4,4)</span><span style="font-family:宋体">。按照刚刚的思路，我们大概手工梳理一遍：</span></p>
<p style="color:rgb(51,51,51); font-family:Arial; font-size:14px; line-height:26px">
初始条件：</p>
<p style="color:rgb(51,51,51); font-family:Arial; font-size:14px; line-height:26px; background-color:rgb(243,243,243)">
<span style="color:rgb(128,0,0)">起点<span style="font-family:'Courier New'">V</span></span><span style="color:rgb(128,0,0)">s</span><span style="color:rgb(128,0,0)">为<span style="font-family:'Courier New'">(0,0)</span></span></p>
<p style="color:rgb(51,51,51); font-family:Arial; font-size:14px; line-height:26px; background-color:rgb(243,243,243)">
<span style="color:rgb(128,0,0)">终点</span><span style="color:rgb(128,0,0)">V</span><span style="color:rgb(128,0,0)">d</span><span style="color:rgb(128,0,0)">为<span style="font-family:'Courier New'">(4,4)</span></span></p>
<p style="color:rgb(51,51,51); font-family:Arial; font-size:14px; line-height:26px; background-color:rgb(243,243,243)">
<span style="color:rgb(128,0,0)">灰色节点集合<span style="font-family:'Courier New'">Q={}</span></span></p>
<p style="color:rgb(51,51,51); font-family:Arial; font-size:14px; line-height:26px; background-color:rgb(243,243,243)">
<span style="color:rgb(128,0,0)">初始化所有节点为白色节点</span></p>
<p style="color:rgb(51,51,51); font-family:Arial; font-size:14px; line-height:26px">
开始我们的广度搜索！</p>
<p style="color:rgb(51,51,51); font-family:Arial; font-size:14px; line-height:26px">
手工执行步骤<span style="color:rgb(255,0,0)">【<span style="font-family:'Courier New'">PS</span><span style="font-family:宋体">：你可以直接看图</span><span style="font-family:'Courier New'">4-1</span><span style="font-family:宋体">】</span></span>:</p>
<p style="color:rgb(51,51,51); font-family:Arial; font-size:14px; line-height:26px; background-color:rgb(243,243,243)">
1.起始节点<span style="font-family:'Courier New'">V</span>s变成灰色，加入队列<span style="font-family:'Courier New'">Q</span><span style="font-family:宋体">，</span><span style="font-family:'Courier New'">Q={(0,0)}</span></p>
<p style="color:rgb(51,51,51); font-family:Arial; font-size:14px; line-height:26px; background-color:rgb(243,243,243)">
2.取出队列<span style="font-family:'Courier New'">Q</span><span style="font-family:宋体">的头一个节点</span><span style="font-family:'Courier New'">V</span>n，<span style="font-family:'Courier New'">V</span>n={0,0}<span style="font-family:宋体">，</span><span style="font-family:'Courier New'">Q={}</span></p>
<p style="color:rgb(51,51,51); font-family:Arial; font-size:14px; line-height:26px; background-color:rgb(243,243,243)">
3.把<span style="font-family:'Courier New'">V</span>n={0,0}<span style="font-family:宋体">染成黑色，取出</span><span style="font-family:'Courier New'">V</span>n所有相邻的白色节点<span style="font-family:'Courier New'">{(1,0)}</span></p>
<p style="color:rgb(51,51,51); font-family:Arial; font-size:14px; line-height:26px; background-color:rgb(243,243,243)">
4.不包含终点<span style="font-family:'Courier New'">(4,4)</span><span style="font-family:宋体">，染成灰色，加入队列</span><span style="font-family:'Courier New'">Q</span><span style="font-family:宋体">，</span><span style="font-family:'Courier New'">Q={(1,0)}</span></p>
<p style="color:rgb(51,51,51); font-family:Arial; font-size:14px; line-height:26px; background-color:rgb(243,243,243)">
5.取出队列<span style="font-family:'Courier New'">Q</span><span style="font-family:宋体">的头一个节点</span><span style="font-family:'Courier New'">V</span>n，<span style="font-family:'Courier New'">V</span>n={1,0}<span style="font-family:宋体">，</span><span style="font-family:'Courier New'">Q={}</span></p>
<p style="color:rgb(51,51,51); font-family:Arial; font-size:14px; line-height:26px; background-color:rgb(243,243,243)">
6.把<span style="font-family:'Courier New'">Vn={1,0}</span><span style="font-family:宋体">染成黑色，取出</span><span style="font-family:'Courier New'">Vn</span><span style="font-family:宋体">所有相邻的白色节点</span><span style="font-family:'Courier New'">{(2,0)}</span></p>
<p style="color:rgb(51,51,51); font-family:Arial; font-size:14px; line-height:26px; background-color:rgb(243,243,243)">
7.不包含终点<span style="font-family:'Courier New'">(4,4)</span><span style="font-family:宋体">，染成灰色，加入队列</span><span style="font-family:'Courier New'">Q</span><span style="font-family:宋体">，</span><span style="font-family:'Courier New'">Q={(2,0)}</span></p>
<p style="color:rgb(51,51,51); font-family:Arial; font-size:14px; line-height:26px; background-color:rgb(243,243,243)">
8.取出队列<span style="font-family:'Courier New'">Q</span><span style="font-family:宋体">的头一个节点</span><span style="font-family:'Courier New'">Vn</span><span style="font-family:宋体">，</span><span style="font-family:'Courier New'">Vn={2,0}</span><span style="font-family:宋体">，</span><span style="font-family:'Courier New'">Q={}</span></p>
<p style="color:rgb(51,51,51); font-family:Arial; font-size:14px; line-height:26px; background-color:rgb(243,243,243)">
9.把<span style="font-family:'Courier New'">Vn={2,0}</span><span style="font-family:宋体">染成黑色，取出</span><span style="font-family:'Courier New'">Vn</span><span style="font-family:宋体">所有相邻的白色节点</span><span style="font-family:'Courier New'">{(2,1),&nbsp;(3,0)}</span></p>
<p style="color:rgb(51,51,51); font-family:Arial; font-size:14px; line-height:26px; background-color:rgb(243,243,243)">
10.不包含终点<span style="font-family:'Courier New'">(4,4)</span><span style="font-family:宋体">，染成灰色，加入队列</span><span style="font-family:'Courier New'">Q</span><span style="font-family:宋体">，</span><span style="font-family:'Courier New'">Q={(2,1),&nbsp;(3,0)}</span></p>
<p style="color:rgb(51,51,51); font-family:Arial; font-size:14px; line-height:26px; background-color:rgb(243,243,243)">
11.取出队列<span style="font-family:'Courier New'">Q</span><span style="font-family:宋体">的头一个节点</span><span style="font-family:'Courier New'">Vn</span><span style="font-family:宋体">，</span><span style="font-family:'Courier New'">Vn={2,1}</span><span style="font-family:宋体">，</span><span style="font-family:'Courier New'">Q={(3,0)}</span></p>
<p style="color:rgb(51,51,51); font-family:Arial; font-size:14px; line-height:26px; background-color:rgb(243,243,243)">
12. 把<span style="font-family:'Courier New'">Vn={2,1}</span><span style="font-family:宋体">染成黑色，取出</span><span style="font-family:'Courier New'">Vn</span><span style="font-family:宋体">所有相邻的白色节点</span><span style="font-family:'Courier New'">{(2,2)}</span></p>
<p style="color:rgb(51,51,51); font-family:Arial; font-size:14px; line-height:26px; background-color:rgb(243,243,243)">
13.不包含终点<span style="font-family:'Courier New'">(4,4)</span><span style="font-family:宋体">，染成灰色，加入队列</span><span style="font-family:'Courier New'">Q</span><span style="font-family:宋体">，</span><span style="font-family:'Courier New'">Q={(3,0),&nbsp;(2,2)}</span></p>
<p style="color:rgb(51,51,51); font-family:Arial; font-size:14px; line-height:26px; background-color:rgb(243,243,243)">
14.持续下去，知道<span style="font-family:'Courier New'">V</span>n的所有相邻的白色节点中包含了<span style="font-family:'Courier New'">(4,4)</span><span style="font-family:宋体">……</span></p>
<p style="color:rgb(51,51,51); font-family:Arial; font-size:14px; line-height:26px; background-color:rgb(243,243,243)">
15.此时获得了答案</p>
<p style="color:rgb(51,51,51); font-family:Arial; font-size:14px; line-height:26px">
<br>
</p>
<p style="color:rgb(51,51,51); font-family:Arial; font-size:14px; line-height:26px">
起始你很容易模仿上边过程走到终点，那为什么它就是最短的呢？</p>
<p style="color:rgb(51,51,51); font-family:Arial; font-size:14px; line-height:26px">
怎么保证呢？</p>
<p style="color:rgb(51,51,51); font-family:Arial; font-size:14px; line-height:26px">
我们来看看广度搜索的过程中节点的顺序情况：</p>
<p style="color:rgb(51,51,51); font-family:Arial; font-size:14px; line-height:26px">
</p>
<p style="color:rgb(51,51,51); font-family:Arial; font-size:14px; line-height:26px; text-align:center">
<span style="color:rgb(0,0,255)"><img src="http://my.csdn.net/uploads/201204/30/1335725931_3217.png" alt="" style="border:none; max-width:100%"><br>
</span></p>
<p style="color:rgb(51,51,51); font-family:Arial; font-size:14px; line-height:26px; text-align:center">
<span style="color:rgb(0,0,255)">图<span style="font-family:'Courier New'">4-1&nbsp;</span><span style="font-family:宋体">迷宫问题的搜索树</span></span></p>
<p style="color:rgb(51,51,51); font-family:Arial; font-size:14px; line-height:26px">
你是否观察到了，广度搜索的顺序是什么样子的？</p>
<p style="color:rgb(51,51,51); font-family:Arial; font-size:14px; line-height:26px">
图中标号即为我们搜索过程中的顺序，我们观察到，这个搜索顺序是按照上图的层次关系来的，例如节点<span style="font-family:'Courier New'">(0,0)</span><span style="font-family:宋体">在第</span><span style="font-family:'Courier New'">1</span><span style="font-family:宋体">层，节点</span><span style="font-family:'Courier New'">(1,0)</span><span style="font-family:宋体">在第</span><span style="font-family:'Courier New'">2</span><span style="font-family:宋体">层，节点</span><span style="font-family:'Courier New'">(2,0)</span><span style="font-family:宋体">在第</span><span style="font-family:'Courier New'">3</span><span style="font-family:宋体">层，节点</span><span style="font-family:'Courier New'">(2,1)</span><span style="font-family:宋体">和节点</span><span style="font-family:'Courier New'">(3,0)</span><span style="font-family:宋体">在第</span><span style="font-family:'Courier New'">3</span><span style="font-family:宋体">层。</span></p>
<p style="color:rgb(51,51,51); font-family:Arial; font-size:14px; line-height:26px">
我们的搜索顺序就是第一层<span style="font-family:'Courier New'">-&gt;</span><span style="font-family:宋体">第二层</span><span style="font-family:'Courier New'">-&gt;</span><span style="font-family:宋体">第三层</span><span style="font-family:'Courier New'">-&gt;</span><span style="font-family:宋体">第</span><span style="font-family:'Courier New'">N</span><span style="font-family:宋体">层这样子。</span></p>
<p style="color:rgb(51,51,51); font-family:Arial; font-size:14px; line-height:26px">
我们假设终点在第<span style="font-family:'Courier New'">N</span><span style="font-family:宋体">层，因此我们搜索到的路径长度肯定是</span><span style="font-family:'Courier New'">N</span><span style="font-family:宋体">，而且这个</span><span style="font-family:'Courier New'">N</span><span style="font-family:宋体">一定是所求最短的。</span></p>
<p style="color:rgb(51,51,51); font-family:Arial; font-size:14px; line-height:26px">
我们用简单的反证法来证明：假设终点在第<span style="font-family:'Courier New'">N</span><span style="font-family:宋体">层上边出现过，例如第</span><span style="font-family:'Courier New'">M</span><span style="font-family:宋体">层，</span><span style="font-family:'Courier New'">M&lt;N</span><span style="font-family:宋体">，那么我们在搜索的过程中，肯定是先搜索到第</span><span style="font-family:'Courier New'">M</span><span style="font-family:宋体">层的，此时搜索到第</span><span style="font-family:'Courier New'">M</span><span style="font-family:宋体">层的时候发现终点出现过了，那么最短路径应该是</span><span style="font-family:'Courier New'">M</span><span style="font-family:宋体">，而不是</span><span style="font-family:'Courier New'">N</span><span style="font-family:宋体">了。</span></p>
<p style="color:rgb(51,51,51); font-family:Arial; font-size:14px; line-height:26px">
所以根据广度优先搜索的话，搜索到终点时，该路径一定是最短的。</p>
<h2 style="margin:0px; padding:0px; color:rgb(51,51,51); font-family:Arial; line-height:26px">
<a target="_blank" target="_blank" name="t10" style="color:rgb(51,102,153)"></a>4.3.<span style="font-family:黑体">代码</span></h2>
<p style="color:rgb(51,51,51); font-family:Arial; font-size:14px; line-height:26px">
我给出以下代码用于解决上述题目<span style="font-family:'Courier New'">(</span><span style="font-family:宋体">仅仅只是核心代码</span><span style="font-family:'Courier New'">)</span><span style="font-family:宋体">：</span></p>
<p style="color:rgb(51,51,51); font-family:Arial; font-size:14px; line-height:26px">
</p>
<div class="dp-highlighter bg_cpp" style="font-family:Consolas,'Courier New',Courier,mono,serif; background-color:rgb(231,229,220); width:700.90625px; overflow:auto; padding-top:1px; color:rgb(51,51,51); line-height:26px; margin:18px 0px!important">
<div class="bar" style="padding-left:45px">
<div class="tools" style="padding:3px 8px 10px 10px; font-size:9px; line-height:normal; font-family:Verdana,Geneva,Arial,Helvetica,sans-serif; color:silver; background-color:rgb(248,248,248); border-left-width:3px; border-left-style:solid; border-left-color:rgb(108,226,108)">
<strong>[cpp]</strong>&nbsp;<a target="_blank" target="_blank" href="http://blog.csdn.net/raphealguo/article/details/7523411#" class="ViewSource" title="view plain" style="color:rgb(160,160,160); text-decoration:none; background-color:inherit; border:none; padding:1px; margin:0px 10px 0px 0px; font-size:9px; display:inline-block; width:16px; height:16px; text-indent:-2000px">view
 plain</a><a target="_blank" target="_blank" href="http://blog.csdn.net/raphealguo/article/details/7523411#" class="CopyToClipboard" title="copy" style="color:rgb(160,160,160); text-decoration:none; background-color:inherit; border:none; padding:1px; margin:0px 10px 0px 0px; font-size:9px; display:inline-block; width:16px; height:16px; text-indent:-2000px">copy</a>
<div style="position:absolute; left:530px; top:6610px; width:18px; height:18px; z-index:99">
</div>
</div>
</div>
<ol start="1" class="dp-cpp" style="padding:0px; border:none; list-style-position:initial; background-color:rgb(255,255,255); color:rgb(92,92,92); margin:0px 0px 1px 45px!important">
<li class="alt" style="border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); list-style:decimal-leading-zero outside; color:inherit; line-height:18px; margin:0px!important; padding:0px 3px 0px 10px!important">
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit"><span class="comment" style="margin:0px; padding:0px; border:none; color:rgb(0,130,0); background-color:inherit">/**</span>&nbsp;</span></li><li style="border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); list-style:decimal-leading-zero outside; background-color:rgb(248,248,248); line-height:18px; margin:0px!important; padding:0px 3px 0px 10px!important">
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit"><span class="comment" style="margin:0px; padding:0px; border:none; color:rgb(0,130,0); background-color:inherit">&nbsp;*&nbsp;广度优先搜索</span>&nbsp;</span></li><li class="alt" style="border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); list-style:decimal-leading-zero outside; color:inherit; line-height:18px; margin:0px!important; padding:0px 3px 0px 10px!important">
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit"><span class="comment" style="margin:0px; padding:0px; border:none; color:rgb(0,130,0); background-color:inherit">&nbsp;*&nbsp;@param&nbsp;Vs&nbsp;起点</span>&nbsp;</span></li><li style="border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); list-style:decimal-leading-zero outside; background-color:rgb(248,248,248); line-height:18px; margin:0px!important; padding:0px 3px 0px 10px!important">
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit"><span class="comment" style="margin:0px; padding:0px; border:none; color:rgb(0,130,0); background-color:inherit">&nbsp;*&nbsp;@param&nbsp;Vd&nbsp;终点</span>&nbsp;</span></li><li class="alt" style="border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); list-style:decimal-leading-zero outside; color:inherit; line-height:18px; margin:0px!important; padding:0px 3px 0px 10px!important">
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit"><span class="comment" style="margin:0px; padding:0px; border:none; color:rgb(0,130,0); background-color:inherit">&nbsp;*/</span><span style="margin:0px; padding:0px; border:none; background-color:inherit">&nbsp;&nbsp;</span></span></li><li style="border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); list-style:decimal-leading-zero outside; background-color:rgb(248,248,248); line-height:18px; margin:0px!important; padding:0px 3px 0px 10px!important">
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit"><span class="datatypes" style="margin:0px; padding:0px; border:none; color:rgb(46,139,87); background-color:inherit; font-weight:bold">bool</span><span style="margin:0px; padding:0px; border:none; background-color:inherit">&nbsp;BFS(Node&amp;&nbsp;Vs,&nbsp;Node&amp;&nbsp;Vd){&nbsp;&nbsp;</span></span></li><li class="alt" style="border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); list-style:decimal-leading-zero outside; color:inherit; line-height:18px; margin:0px!important; padding:0px 3px 0px 10px!important">
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">&nbsp;&nbsp;&nbsp;&nbsp;queue&lt;Node&gt;&nbsp;Q;&nbsp;&nbsp;</span></li><li style="border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); list-style:decimal-leading-zero outside; background-color:rgb(248,248,248); line-height:18px; margin:0px!important; padding:0px 3px 0px 10px!important">
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">&nbsp;&nbsp;&nbsp;&nbsp;Node&nbsp;Vn,&nbsp;Vw;&nbsp;&nbsp;</span></li><li class="alt" style="border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); list-style:decimal-leading-zero outside; color:inherit; line-height:18px; margin:0px!important; padding:0px 3px 0px 10px!important">
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">&nbsp;&nbsp;&nbsp;&nbsp;<span class="datatypes" style="margin:0px; padding:0px; border:none; color:rgb(46,139,87); background-color:inherit; font-weight:bold">int</span><span style="margin:0px; padding:0px; border:none; background-color:inherit">&nbsp;i;&nbsp;&nbsp;</span></span></li><li style="border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); list-style:decimal-leading-zero outside; background-color:rgb(248,248,248); line-height:18px; margin:0px!important; padding:0px 3px 0px 10px!important">
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">&nbsp;&nbsp;</span></li><li class="alt" style="border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); list-style:decimal-leading-zero outside; color:inherit; line-height:18px; margin:0px!important; padding:0px 3px 0px 10px!important">
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" style="margin:0px; padding:0px; border:none; color:rgb(0,130,0); background-color:inherit">//用于标记颜色当visit[i][j]==true时，说明节点访问过，也就是黑色</span><span style="margin:0px; padding:0px; border:none; background-color:inherit">&nbsp;&nbsp;</span></span></li><li style="border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); list-style:decimal-leading-zero outside; background-color:rgb(248,248,248); line-height:18px; margin:0px!important; padding:0px 3px 0px 10px!important">
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">&nbsp;&nbsp;&nbsp;&nbsp;<span class="datatypes" style="margin:0px; padding:0px; border:none; color:rgb(46,139,87); background-color:inherit; font-weight:bold">bool</span><span style="margin:0px; padding:0px; border:none; background-color:inherit">&nbsp;visit[MAXL][MAXL];&nbsp;&nbsp;</span></span></li><li class="alt" style="border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); list-style:decimal-leading-zero outside; color:inherit; line-height:18px; margin:0px!important; padding:0px 3px 0px 10px!important">
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">&nbsp;&nbsp;</span></li><li style="border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); list-style:decimal-leading-zero outside; background-color:rgb(248,248,248); line-height:18px; margin:0px!important; padding:0px 3px 0px 10px!important">
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" style="margin:0px; padding:0px; border:none; color:rgb(0,130,0); background-color:inherit">//四个方向</span><span style="margin:0px; padding:0px; border:none; background-color:inherit">&nbsp;&nbsp;</span></span></li><li class="alt" style="border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); list-style:decimal-leading-zero outside; color:inherit; line-height:18px; margin:0px!important; padding:0px 3px 0px 10px!important">
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">&nbsp;&nbsp;&nbsp;&nbsp;<span class="datatypes" style="margin:0px; padding:0px; border:none; color:rgb(46,139,87); background-color:inherit; font-weight:bold">int</span><span style="margin:0px; padding:0px; border:none; background-color:inherit">&nbsp;dir[][2]&nbsp;=&nbsp;{&nbsp;&nbsp;</span></span></li><li style="border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); list-style:decimal-leading-zero outside; background-color:rgb(248,248,248); line-height:18px; margin:0px!important; padding:0px 3px 0px 10px!important">
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{0,&nbsp;1},&nbsp;{1,&nbsp;0},&nbsp;&nbsp;</span></li><li class="alt" style="border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); list-style:decimal-leading-zero outside; color:inherit; line-height:18px; margin:0px!important; padding:0px 3px 0px 10px!important">
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{0,&nbsp;-1},&nbsp;{-1,&nbsp;0}&nbsp;&nbsp;</span></li><li style="border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); list-style:decimal-leading-zero outside; background-color:rgb(248,248,248); line-height:18px; margin:0px!important; padding:0px 3px 0px 10px!important">
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">&nbsp;&nbsp;&nbsp;&nbsp;};&nbsp;&nbsp;</span></li><li class="alt" style="border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); list-style:decimal-leading-zero outside; color:inherit; line-height:18px; margin:0px!important; padding:0px 3px 0px 10px!important">
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">&nbsp;&nbsp;</span></li><li style="border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); list-style:decimal-leading-zero outside; background-color:rgb(248,248,248); line-height:18px; margin:0px!important; padding:0px 3px 0px 10px!important">
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" style="margin:0px; padding:0px; border:none; color:rgb(0,130,0); background-color:inherit">//初始状态将起点放进队列Q</span><span style="margin:0px; padding:0px; border:none; background-color:inherit">&nbsp;&nbsp;</span></span></li><li class="alt" style="border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); list-style:decimal-leading-zero outside; color:inherit; line-height:18px; margin:0px!important; padding:0px 3px 0px 10px!important">
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">&nbsp;&nbsp;&nbsp;&nbsp;Q.push(Vs);&nbsp;&nbsp;</span></li><li style="border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); list-style:decimal-leading-zero outside; background-color:rgb(248,248,248); line-height:18px; margin:0px!important; padding:0px 3px 0px 10px!important">
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">&nbsp;&nbsp;&nbsp;&nbsp;visit[Vs.x][Vs.y]&nbsp;=&nbsp;<span class="keyword" style="margin:0px; padding:0px; border:none; color:rgb(0,102,153); background-color:inherit; font-weight:bold">true</span><span style="margin:0px; padding:0px; border:none; background-color:inherit">;</span><span class="comment" style="margin:0px; padding:0px; border:none; color:rgb(0,130,0); background-color:inherit">//设置节点已经访问过了！</span><span style="margin:0px; padding:0px; border:none; background-color:inherit">&nbsp;&nbsp;</span></span></li><li class="alt" style="border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); list-style:decimal-leading-zero outside; color:inherit; line-height:18px; margin:0px!important; padding:0px 3px 0px 10px!important">
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">&nbsp;&nbsp;</span></li><li style="border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); list-style:decimal-leading-zero outside; background-color:rgb(248,248,248); line-height:18px; margin:0px!important; padding:0px 3px 0px 10px!important">
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="margin:0px; padding:0px; border:none; color:rgb(0,102,153); background-color:inherit; font-weight:bold">while</span><span style="margin:0px; padding:0px; border:none; background-color:inherit">&nbsp;(!Q.empty()){</span><span class="comment" style="margin:0px; padding:0px; border:none; color:rgb(0,130,0); background-color:inherit">//队列不为空，继续搜索！</span><span style="margin:0px; padding:0px; border:none; background-color:inherit">&nbsp;&nbsp;</span></span></li><li class="alt" style="border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); list-style:decimal-leading-zero outside; color:inherit; line-height:18px; margin:0px!important; padding:0px 3px 0px 10px!important">
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" style="margin:0px; padding:0px; border:none; color:rgb(0,130,0); background-color:inherit">//取出队列的头Vn</span><span style="margin:0px; padding:0px; border:none; background-color:inherit">&nbsp;&nbsp;</span></span></li><li style="border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); list-style:decimal-leading-zero outside; background-color:rgb(248,248,248); line-height:18px; margin:0px!important; padding:0px 3px 0px 10px!important">
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Vn&nbsp;=&nbsp;Q.front();&nbsp;&nbsp;</span></li><li class="alt" style="border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); list-style:decimal-leading-zero outside; color:inherit; line-height:18px; margin:0px!important; padding:0px 3px 0px 10px!important">
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Q.pop();&nbsp;&nbsp;</span></li><li style="border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); list-style:decimal-leading-zero outside; background-color:rgb(248,248,248); line-height:18px; margin:0px!important; padding:0px 3px 0px 10px!important">
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">&nbsp;&nbsp;</span></li><li class="alt" style="border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); list-style:decimal-leading-zero outside; color:inherit; line-height:18px; margin:0px!important; padding:0px 3px 0px 10px!important">
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="margin:0px; padding:0px; border:none; color:rgb(0,102,153); background-color:inherit; font-weight:bold">for</span><span style="margin:0px; padding:0px; border:none; background-color:inherit">(i&nbsp;=&nbsp;0;&nbsp;i&nbsp;&lt;&nbsp;4;&nbsp;&#43;&#43;i){&nbsp;&nbsp;</span></span></li><li style="border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); list-style:decimal-leading-zero outside; background-color:rgb(248,248,248); line-height:18px; margin:0px!important; padding:0px 3px 0px 10px!important">
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Vw&nbsp;=&nbsp;Node(Vn.x&#43;dir[i][0],&nbsp;Vn.y&#43;dir[i][1]);<span class="comment" style="margin:0px; padding:0px; border:none; color:rgb(0,130,0); background-color:inherit">//计算相邻节点</span><span style="margin:0px; padding:0px; border:none; background-color:inherit">&nbsp;&nbsp;</span></span></li><li class="alt" style="border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); list-style:decimal-leading-zero outside; color:inherit; line-height:18px; margin:0px!important; padding:0px 3px 0px 10px!important">
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">&nbsp;&nbsp;</span></li><li style="border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); list-style:decimal-leading-zero outside; background-color:rgb(248,248,248); line-height:18px; margin:0px!important; padding:0px 3px 0px 10px!important">
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="margin:0px; padding:0px; border:none; color:rgb(0,102,153); background-color:inherit; font-weight:bold">if</span><span style="margin:0px; padding:0px; border:none; background-color:inherit">&nbsp;(Vw&nbsp;==&nbsp;Vd){</span><span class="comment" style="margin:0px; padding:0px; border:none; color:rgb(0,130,0); background-color:inherit">//找到终点了！</span><span style="margin:0px; padding:0px; border:none; background-color:inherit">&nbsp;&nbsp;</span></span></li><li class="alt" style="border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); list-style:decimal-leading-zero outside; color:inherit; line-height:18px; margin:0px!important; padding:0px 3px 0px 10px!important">
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" style="margin:0px; padding:0px; border:none; color:rgb(0,130,0); background-color:inherit">//把路径记录，这里没给出解法</span><span style="margin:0px; padding:0px; border:none; background-color:inherit">&nbsp;&nbsp;</span></span></li><li style="border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); list-style:decimal-leading-zero outside; background-color:rgb(248,248,248); line-height:18px; margin:0px!important; padding:0px 3px 0px 10px!important">
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="margin:0px; padding:0px; border:none; color:rgb(0,102,153); background-color:inherit; font-weight:bold">return</span><span style="margin:0px; padding:0px; border:none; background-color:inherit">&nbsp;</span><span class="keyword" style="margin:0px; padding:0px; border:none; color:rgb(0,102,153); background-color:inherit; font-weight:bold">true</span><span style="margin:0px; padding:0px; border:none; background-color:inherit">;</span><span class="comment" style="margin:0px; padding:0px; border:none; color:rgb(0,130,0); background-color:inherit">//返回</span><span style="margin:0px; padding:0px; border:none; background-color:inherit">&nbsp;&nbsp;</span></span></li><li class="alt" style="border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); list-style:decimal-leading-zero outside; color:inherit; line-height:18px; margin:0px!important; padding:0px 3px 0px 10px!important">
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li style="border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); list-style:decimal-leading-zero outside; background-color:rgb(248,248,248); line-height:18px; margin:0px!important; padding:0px 3px 0px 10px!important">
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">&nbsp;&nbsp;</span></li><li class="alt" style="border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); list-style:decimal-leading-zero outside; color:inherit; line-height:18px; margin:0px!important; padding:0px 3px 0px 10px!important">
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="margin:0px; padding:0px; border:none; color:rgb(0,102,153); background-color:inherit; font-weight:bold">if</span><span style="margin:0px; padding:0px; border:none; background-color:inherit">&nbsp;(isValid(Vw)&nbsp;&amp;&amp;&nbsp;!visit[Vw.x][Vw.y]){&nbsp;&nbsp;</span></span></li><li style="border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); list-style:decimal-leading-zero outside; background-color:rgb(248,248,248); line-height:18px; margin:0px!important; padding:0px 3px 0px 10px!important">
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" style="margin:0px; padding:0px; border:none; color:rgb(0,130,0); background-color:inherit">//Vw是一个合法的节点并且为白色节点</span><span style="margin:0px; padding:0px; border:none; background-color:inherit">&nbsp;&nbsp;</span></span></li><li class="alt" style="border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); list-style:decimal-leading-zero outside; color:inherit; line-height:18px; margin:0px!important; padding:0px 3px 0px 10px!important">
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Q.push(Vw);<span class="comment" style="margin:0px; padding:0px; border:none; color:rgb(0,130,0); background-color:inherit">//加入队列Q</span><span style="margin:0px; padding:0px; border:none; background-color:inherit">&nbsp;&nbsp;</span></span></li><li style="border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); list-style:decimal-leading-zero outside; background-color:rgb(248,248,248); line-height:18px; margin:0px!important; padding:0px 3px 0px 10px!important">
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;visit[Vw.x][Vw.y]&nbsp;=&nbsp;<span class="keyword" style="margin:0px; padding:0px; border:none; color:rgb(0,102,153); background-color:inherit; font-weight:bold">true</span><span style="margin:0px; padding:0px; border:none; background-color:inherit">;</span><span class="comment" style="margin:0px; padding:0px; border:none; color:rgb(0,130,0); background-color:inherit">//设置节点颜色</span><span style="margin:0px; padding:0px; border:none; background-color:inherit">&nbsp;&nbsp;</span></span></li><li class="alt" style="border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); list-style:decimal-leading-zero outside; color:inherit; line-height:18px; margin:0px!important; padding:0px 3px 0px 10px!important">
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li style="border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); list-style:decimal-leading-zero outside; background-color:rgb(248,248,248); line-height:18px; margin:0px!important; padding:0px 3px 0px 10px!important">
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class="alt" style="border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); list-style:decimal-leading-zero outside; color:inherit; line-height:18px; margin:0px!important; padding:0px 3px 0px 10px!important">
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li style="border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); list-style:decimal-leading-zero outside; background-color:rgb(248,248,248); line-height:18px; margin:0px!important; padding:0px 3px 0px 10px!important">
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="margin:0px; padding:0px; border:none; color:rgb(0,102,153); background-color:inherit; font-weight:bold">return</span><span style="margin:0px; padding:0px; border:none; background-color:inherit">&nbsp;</span><span class="keyword" style="margin:0px; padding:0px; border:none; color:rgb(0,102,153); background-color:inherit; font-weight:bold">false</span><span style="margin:0px; padding:0px; border:none; background-color:inherit">;</span><span class="comment" style="margin:0px; padding:0px; border:none; color:rgb(0,130,0); background-color:inherit">//无解</span><span style="margin:0px; padding:0px; border:none; background-color:inherit">&nbsp;&nbsp;</span></span></li><li class="alt" style="border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); list-style:decimal-leading-zero outside; color:inherit; line-height:18px; margin:0px!important; padding:0px 3px 0px 10px!important">
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">}&nbsp;&nbsp;</span></li></ol>
</div>
<br style="color:rgb(51,51,51); font-family:Arial; font-size:14px; line-height:26px">
<br style="color:rgb(51,51,51); font-family:Arial; font-size:14px; line-height:26px">
<p style="color:rgb(51,51,51); font-family:Arial; font-size:14px; line-height:26px">
</p>
<h1 style="margin:0px; padding:0px; color:rgb(51,51,51); font-family:Arial; line-height:26px">
<a target="_blank" target="_blank" name="t11" style="color:rgb(51,102,153)"></a>5.<span style="font-family:宋体">核心代码</span></h1>
<p style="color:rgb(51,51,51); font-family:Arial; font-size:14px; line-height:26px">
为了方便适用于大多数的题解，抽取核心代码如下：</p>
<p style="color:rgb(51,51,51); font-family:Arial; font-size:14px; line-height:26px">
</p>
<div class="dp-highlighter bg_cpp" style="font-family:Consolas,'Courier New',Courier,mono,serif; background-color:rgb(231,229,220); width:700.90625px; overflow:auto; padding-top:1px; color:rgb(51,51,51); line-height:26px; margin:18px 0px!important">
<div class="bar" style="padding-left:45px">
<div class="tools" style="padding:3px 8px 10px 10px; font-size:9px; line-height:normal; font-family:Verdana,Geneva,Arial,Helvetica,sans-serif; color:silver; background-color:rgb(248,248,248); border-left-width:3px; border-left-style:solid; border-left-color:rgb(108,226,108)">
<strong>[cpp]</strong>&nbsp;<a target="_blank" target="_blank" href="http://blog.csdn.net/raphealguo/article/details/7523411#" class="ViewSource" title="view plain" style="color:rgb(160,160,160); text-decoration:none; background-color:inherit; border:none; padding:1px; margin:0px 10px 0px 0px; font-size:9px; display:inline-block; width:16px; height:16px; text-indent:-2000px">view
 plain</a><a target="_blank" target="_blank" href="http://blog.csdn.net/raphealguo/article/details/7523411#" class="CopyToClipboard" title="copy" style="color:rgb(160,160,160); text-decoration:none; background-color:inherit; border:none; padding:1px; margin:0px 10px 0px 0px; font-size:9px; display:inline-block; width:16px; height:16px; text-indent:-2000px">copy</a>
<div style="position:absolute; left:530px; top:7622px; width:18px; height:18px; z-index:99">
</div>
</div>
</div>
<ol start="1" class="dp-cpp" style="padding:0px; border:none; list-style-position:initial; background-color:rgb(255,255,255); color:rgb(92,92,92); margin:0px 0px 1px 45px!important">
<li class="alt" style="border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); list-style:decimal-leading-zero outside; color:inherit; line-height:18px; margin:0px!important; padding:0px 3px 0px 10px!important">
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit"><span class="comment" style="margin:0px; padding:0px; border:none; color:rgb(0,130,0); background-color:inherit">/**</span>&nbsp;</span></li><li style="border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); list-style:decimal-leading-zero outside; background-color:rgb(248,248,248); line-height:18px; margin:0px!important; padding:0px 3px 0px 10px!important">
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit"><span class="comment" style="margin:0px; padding:0px; border:none; color:rgb(0,130,0); background-color:inherit">&nbsp;*&nbsp;广度优先搜索</span>&nbsp;</span></li><li class="alt" style="border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); list-style:decimal-leading-zero outside; color:inherit; line-height:18px; margin:0px!important; padding:0px 3px 0px 10px!important">
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit"><span class="comment" style="margin:0px; padding:0px; border:none; color:rgb(0,130,0); background-color:inherit">&nbsp;*&nbsp;@param&nbsp;Vs&nbsp;起点</span>&nbsp;</span></li><li style="border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); list-style:decimal-leading-zero outside; background-color:rgb(248,248,248); line-height:18px; margin:0px!important; padding:0px 3px 0px 10px!important">
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit"><span class="comment" style="margin:0px; padding:0px; border:none; color:rgb(0,130,0); background-color:inherit">&nbsp;*&nbsp;@param&nbsp;Vd&nbsp;终点</span>&nbsp;</span></li><li class="alt" style="border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); list-style:decimal-leading-zero outside; color:inherit; line-height:18px; margin:0px!important; padding:0px 3px 0px 10px!important">
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit"><span class="comment" style="margin:0px; padding:0px; border:none; color:rgb(0,130,0); background-color:inherit">&nbsp;*/</span><span style="margin:0px; padding:0px; border:none; background-color:inherit">&nbsp;&nbsp;</span></span></li><li style="border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); list-style:decimal-leading-zero outside; background-color:rgb(248,248,248); line-height:18px; margin:0px!important; padding:0px 3px 0px 10px!important">
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit"><span class="datatypes" style="margin:0px; padding:0px; border:none; color:rgb(46,139,87); background-color:inherit; font-weight:bold">bool</span><span style="margin:0px; padding:0px; border:none; background-color:inherit">&nbsp;BFS(Node&amp;&nbsp;Vs,&nbsp;Node&amp;&nbsp;Vd){&nbsp;&nbsp;</span></span></li><li class="alt" style="border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); list-style:decimal-leading-zero outside; color:inherit; line-height:18px; margin:0px!important; padding:0px 3px 0px 10px!important">
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">&nbsp;&nbsp;&nbsp;&nbsp;queue&lt;Node&gt;&nbsp;Q;&nbsp;&nbsp;</span></li><li style="border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); list-style:decimal-leading-zero outside; background-color:rgb(248,248,248); line-height:18px; margin:0px!important; padding:0px 3px 0px 10px!important">
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">&nbsp;&nbsp;&nbsp;&nbsp;Node&nbsp;Vn,&nbsp;Vw;&nbsp;&nbsp;</span></li><li class="alt" style="border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); list-style:decimal-leading-zero outside; color:inherit; line-height:18px; margin:0px!important; padding:0px 3px 0px 10px!important">
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">&nbsp;&nbsp;&nbsp;&nbsp;<span class="datatypes" style="margin:0px; padding:0px; border:none; color:rgb(46,139,87); background-color:inherit; font-weight:bold">int</span><span style="margin:0px; padding:0px; border:none; background-color:inherit">&nbsp;i;&nbsp;&nbsp;</span></span></li><li style="border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); list-style:decimal-leading-zero outside; background-color:rgb(248,248,248); line-height:18px; margin:0px!important; padding:0px 3px 0px 10px!important">
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">&nbsp;&nbsp;</span></li><li class="alt" style="border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); list-style:decimal-leading-zero outside; color:inherit; line-height:18px; margin:0px!important; padding:0px 3px 0px 10px!important">
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" style="margin:0px; padding:0px; border:none; color:rgb(0,130,0); background-color:inherit">//初始状态将起点放进队列Q</span><span style="margin:0px; padding:0px; border:none; background-color:inherit">&nbsp;&nbsp;</span></span></li><li style="border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); list-style:decimal-leading-zero outside; background-color:rgb(248,248,248); line-height:18px; margin:0px!important; padding:0px 3px 0px 10px!important">
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">&nbsp;&nbsp;&nbsp;&nbsp;Q.push(Vs);&nbsp;&nbsp;</span></li><li class="alt" style="border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); list-style:decimal-leading-zero outside; color:inherit; line-height:18px; margin:0px!important; padding:0px 3px 0px 10px!important">
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">&nbsp;&nbsp;&nbsp;&nbsp;hash(Vw)&nbsp;=&nbsp;<span class="keyword" style="margin:0px; padding:0px; border:none; color:rgb(0,102,153); background-color:inherit; font-weight:bold">true</span><span style="margin:0px; padding:0px; border:none; background-color:inherit">;</span><span class="comment" style="margin:0px; padding:0px; border:none; color:rgb(0,130,0); background-color:inherit">//设置节点已经访问过了！</span><span style="margin:0px; padding:0px; border:none; background-color:inherit">&nbsp;&nbsp;</span></span></li><li style="border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); list-style:decimal-leading-zero outside; background-color:rgb(248,248,248); line-height:18px; margin:0px!important; padding:0px 3px 0px 10px!important">
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">&nbsp;&nbsp;</span></li><li class="alt" style="border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); list-style:decimal-leading-zero outside; color:inherit; line-height:18px; margin:0px!important; padding:0px 3px 0px 10px!important">
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="margin:0px; padding:0px; border:none; color:rgb(0,102,153); background-color:inherit; font-weight:bold">while</span><span style="margin:0px; padding:0px; border:none; background-color:inherit">&nbsp;(!Q.empty()){</span><span class="comment" style="margin:0px; padding:0px; border:none; color:rgb(0,130,0); background-color:inherit">//队列不为空，继续搜索！</span><span style="margin:0px; padding:0px; border:none; background-color:inherit">&nbsp;&nbsp;</span></span></li><li style="border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); list-style:decimal-leading-zero outside; background-color:rgb(248,248,248); line-height:18px; margin:0px!important; padding:0px 3px 0px 10px!important">
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" style="margin:0px; padding:0px; border:none; color:rgb(0,130,0); background-color:inherit">//取出队列的头Vn</span><span style="margin:0px; padding:0px; border:none; background-color:inherit">&nbsp;&nbsp;</span></span></li><li class="alt" style="border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); list-style:decimal-leading-zero outside; color:inherit; line-height:18px; margin:0px!important; padding:0px 3px 0px 10px!important">
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Vn&nbsp;=&nbsp;Q.front();&nbsp;&nbsp;</span></li><li style="border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); list-style:decimal-leading-zero outside; background-color:rgb(248,248,248); line-height:18px; margin:0px!important; padding:0px 3px 0px 10px!important">
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">&nbsp;&nbsp;</span></li><li class="alt" style="border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); list-style:decimal-leading-zero outside; color:inherit; line-height:18px; margin:0px!important; padding:0px 3px 0px 10px!important">
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" style="margin:0px; padding:0px; border:none; color:rgb(0,130,0); background-color:inherit">//从队列中移除</span><span style="margin:0px; padding:0px; border:none; background-color:inherit">&nbsp;&nbsp;</span></span></li><li style="border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); list-style:decimal-leading-zero outside; background-color:rgb(248,248,248); line-height:18px; margin:0px!important; padding:0px 3px 0px 10px!important">
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Q.pop();&nbsp;&nbsp;</span></li><li class="alt" style="border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); list-style:decimal-leading-zero outside; color:inherit; line-height:18px; margin:0px!important; padding:0px 3px 0px 10px!important">
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">&nbsp;&nbsp;</span></li><li style="border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); list-style:decimal-leading-zero outside; background-color:rgb(248,248,248); line-height:18px; margin:0px!important; padding:0px 3px 0px 10px!important">
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="margin:0px; padding:0px; border:none; color:rgb(0,102,153); background-color:inherit; font-weight:bold">while</span><span style="margin:0px; padding:0px; border:none; background-color:inherit">(Vw&nbsp;=&nbsp;Vn通过某规则能够到达的节点){&nbsp;&nbsp;</span></span></li><li class="alt" style="border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); list-style:decimal-leading-zero outside; color:inherit; line-height:18px; margin:0px!important; padding:0px 3px 0px 10px!important">
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="margin:0px; padding:0px; border:none; color:rgb(0,102,153); background-color:inherit; font-weight:bold">if</span><span style="margin:0px; padding:0px; border:none; background-color:inherit">&nbsp;(Vw&nbsp;==&nbsp;Vd){</span><span class="comment" style="margin:0px; padding:0px; border:none; color:rgb(0,130,0); background-color:inherit">//找到终点了！</span><span style="margin:0px; padding:0px; border:none; background-color:inherit">&nbsp;&nbsp;</span></span></li><li style="border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); list-style:decimal-leading-zero outside; background-color:rgb(248,248,248); line-height:18px; margin:0px!important; padding:0px 3px 0px 10px!important">
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" style="margin:0px; padding:0px; border:none; color:rgb(0,130,0); background-color:inherit">//把路径记录，这里没给出解法</span><span style="margin:0px; padding:0px; border:none; background-color:inherit">&nbsp;&nbsp;</span></span></li><li class="alt" style="border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); list-style:decimal-leading-zero outside; color:inherit; line-height:18px; margin:0px!important; padding:0px 3px 0px 10px!important">
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="margin:0px; padding:0px; border:none; color:rgb(0,102,153); background-color:inherit; font-weight:bold">return</span><span style="margin:0px; padding:0px; border:none; background-color:inherit">&nbsp;</span><span class="keyword" style="margin:0px; padding:0px; border:none; color:rgb(0,102,153); background-color:inherit; font-weight:bold">true</span><span style="margin:0px; padding:0px; border:none; background-color:inherit">;</span><span class="comment" style="margin:0px; padding:0px; border:none; color:rgb(0,130,0); background-color:inherit">//返回</span><span style="margin:0px; padding:0px; border:none; background-color:inherit">&nbsp;&nbsp;</span></span></li><li style="border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); list-style:decimal-leading-zero outside; background-color:rgb(248,248,248); line-height:18px; margin:0px!important; padding:0px 3px 0px 10px!important">
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class="alt" style="border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); list-style:decimal-leading-zero outside; color:inherit; line-height:18px; margin:0px!important; padding:0px 3px 0px 10px!important">
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">&nbsp;&nbsp;</span></li><li style="border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); list-style:decimal-leading-zero outside; background-color:rgb(248,248,248); line-height:18px; margin:0px!important; padding:0px 3px 0px 10px!important">
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="margin:0px; padding:0px; border:none; color:rgb(0,102,153); background-color:inherit; font-weight:bold">if</span><span style="margin:0px; padding:0px; border:none; background-color:inherit">&nbsp;(isValid(Vw)&nbsp;&amp;&amp;&nbsp;!visit[Vw]){&nbsp;&nbsp;</span></span></li><li class="alt" style="border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); list-style:decimal-leading-zero outside; color:inherit; line-height:18px; margin:0px!important; padding:0px 3px 0px 10px!important">
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" style="margin:0px; padding:0px; border:none; color:rgb(0,130,0); background-color:inherit">//Vw是一个合法的节点并且为白色节点</span><span style="margin:0px; padding:0px; border:none; background-color:inherit">&nbsp;&nbsp;</span></span></li><li style="border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); list-style:decimal-leading-zero outside; background-color:rgb(248,248,248); line-height:18px; margin:0px!important; padding:0px 3px 0px 10px!important">
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Q.push(Vw);<span class="comment" style="margin:0px; padding:0px; border:none; color:rgb(0,130,0); background-color:inherit">//加入队列Q</span><span style="margin:0px; padding:0px; border:none; background-color:inherit">&nbsp;&nbsp;</span></span></li><li class="alt" style="border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); list-style:decimal-leading-zero outside; color:inherit; line-height:18px; margin:0px!important; padding:0px 3px 0px 10px!important">
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;hash(Vw)&nbsp;=&nbsp;<span class="keyword" style="margin:0px; padding:0px; border:none; color:rgb(0,102,153); background-color:inherit; font-weight:bold">true</span><span style="margin:0px; padding:0px; border:none; background-color:inherit">;</span><span class="comment" style="margin:0px; padding:0px; border:none; color:rgb(0,130,0); background-color:inherit">//设置节点颜色</span><span style="margin:0px; padding:0px; border:none; background-color:inherit">&nbsp;&nbsp;</span></span></li><li style="border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); list-style:decimal-leading-zero outside; background-color:rgb(248,248,248); line-height:18px; margin:0px!important; padding:0px 3px 0px 10px!important">
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class="alt" style="border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); list-style:decimal-leading-zero outside; color:inherit; line-height:18px; margin:0px!important; padding:0px 3px 0px 10px!important">
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li style="border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); list-style:decimal-leading-zero outside; background-color:rgb(248,248,248); line-height:18px; margin:0px!important; padding:0px 3px 0px 10px!important">
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li><li class="alt" style="border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); list-style:decimal-leading-zero outside; color:inherit; line-height:18px; margin:0px!important; padding:0px 3px 0px 10px!important">
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" style="margin:0px; padding:0px; border:none; color:rgb(0,102,153); background-color:inherit; font-weight:bold">return</span><span style="margin:0px; padding:0px; border:none; background-color:inherit">&nbsp;</span><span class="keyword" style="margin:0px; padding:0px; border:none; color:rgb(0,102,153); background-color:inherit; font-weight:bold">false</span><span style="margin:0px; padding:0px; border:none; background-color:inherit">;</span><span class="comment" style="margin:0px; padding:0px; border:none; color:rgb(0,130,0); background-color:inherit">//无解</span><span style="margin:0px; padding:0px; border:none; background-color:inherit">&nbsp;&nbsp;</span></span></li><li style="border-style:none none none solid; border-left-width:3px; border-left-color:rgb(108,226,108); list-style:decimal-leading-zero outside; background-color:rgb(248,248,248); line-height:18px; margin:0px!important; padding:0px 3px 0px 10px!important">
<span style="margin:0px; padding:0px; border:none; color:black; background-color:inherit">}&nbsp;&nbsp;</span></li></ol>
</div>
<br style="color:rgb(51,51,51); font-family:Arial; font-size:14px; line-height:26px">
<br style="color:rgb(51,51,51); font-family:Arial; font-size:14px; line-height:26px">
<p style="color:rgb(51,51,51); font-family:Arial; font-size:14px; line-height:26px">
</p>
<p style="color:rgb(51,51,51); font-family:Arial; font-size:14px; line-height:26px">
对于一个题目来说，要标志节点是否访问过，用数组是一种很快速的方法，但有时数据量太大，很难用一个大数组来记录时，采用<span style="font-family:'Courier New'">hash</span><span style="font-family:宋体">是最好的做法。实际上</span><span style="font-family:'Courier New'">visit</span><span style="font-family:宋体">数组在这里也是充当</span><span style="font-family:'Courier New'">hash</span><span style="font-family:宋体">的作用。（</span><span style="font-family:'Courier New'">PS</span><span style="font-family:宋体">：至于</span><span style="font-family:'Courier New'">hash</span><span style="font-family:宋体">是什么？得自己去了解，它的作用是在</span><span style="font-family:'Courier New'">O(1)</span><span style="font-family:宋体">的时间复杂度内取出某个&#20540;）</span></p>
<h1 style="margin:0px; padding:0px; color:rgb(51,51,51); font-family:Arial; line-height:26px">
<a target="_blank" target="_blank" name="t12" style="color:rgb(51,102,153)"></a>6.<span style="font-family:宋体">其他实例</span></h1>
<h2 style="margin:0px; padding:0px; color:rgb(51,51,51); font-family:Arial; line-height:26px">
<a target="_blank" target="_blank" name="t13" style="color:rgb(51,102,153)"></a>6.1.<span style="font-family:黑体">题目描述</span></h2>
<p style="color:rgb(51,51,51); font-family:Arial; font-size:14px; line-height:26px">
给定序列<span style="font-family:'Courier New'">1&nbsp;2&nbsp;3&nbsp;4&nbsp;5&nbsp;6</span><span style="font-family:宋体">，再给定一个</span><span style="font-family:'Courier New'">k</span><span style="font-family:宋体">，我们给出这样的操作：对于序列，我们可以将其中</span><span style="font-family:'Courier New'">k</span><span style="font-family:宋体">个连续的数全部反转过来，例如</span><span style="font-family:'Courier New'">k&nbsp;=&nbsp;3</span><span style="font-family:宋体">的时候，上述序列经过</span><span style="font-family:'Courier New'">1</span><span style="font-family:宋体">步操作后可以变成：</span><span style="font-family:'Courier New'">3&nbsp;2&nbsp;1&nbsp;4&nbsp;5&nbsp;6&nbsp;</span><span style="font-family:宋体">，如果再对序列&nbsp;</span><span style="font-family:'Courier New'">3&nbsp;2&nbsp;1&nbsp;4&nbsp;5&nbsp;6</span><span style="font-family:宋体">进行一步操作，可以变成</span><span style="font-family:'Courier New'">3&nbsp;4&nbsp;1&nbsp;2&nbsp;5&nbsp;6.</span></p>
<p style="color:rgb(51,51,51); font-family:Arial; font-size:14px; line-height:26px">
那么现在题目就是，给定初始序列，以及结束序列，以及<span style="font-family:'Courier New'">k</span><span style="font-family:宋体">的&#20540;，那么你能够求出从初始序列到结束序列的转变</span><span style="color:rgb(255,0,0)">至少</span>需要几步操作吗？</p>
<h2 style="margin:0px; padding:0px; color:rgb(51,51,51); font-family:Arial; line-height:26px">
<a target="_blank" target="_blank" name="t14" style="color:rgb(51,102,153)"></a>6.2.<span style="font-family:黑体">思路</span></h2>
<p style="color:rgb(51,51,51); font-family:Arial; font-size:14px; line-height:26px">
本题可以采用<span style="font-family:'Courier New'">BFS</span><span style="font-family:宋体">求解，已经给定初始状态跟目标状态，要求之间的最短操作，其实也很明显是用</span><span style="font-family:'Courier New'">BFS</span><span style="font-family:宋体">了。</span></p>
<p style="color:rgb(51,51,51); font-family:Arial; font-size:14px; line-height:26px">
我们把每次操作完的序列当做一个状态节点。那每一次操作就产生一条边，这个操作就是规则。</p>
<p style="color:rgb(51,51,51); font-family:Arial; font-size:14px; line-height:26px">
假设起始节点是：<span style="font-family:'Courier New'">{1&nbsp;2&nbsp;3&nbsp;4&nbsp;5&nbsp;6}</span><span style="font-family:宋体">，终点是：</span><span style="font-family:'Courier New'">{3&nbsp;4&nbsp;1&nbsp;2&nbsp;5&nbsp;6}</span></p>
<p style="color:rgb(51,51,51); font-family:Arial; font-size:14px; line-height:26px">
去除队列中的起始节点时，将它的相邻节点加入队列，其相邻节点就是对其操作一次的所有序列：</p>
<p style="color:rgb(51,51,51); font-family:Arial; font-size:14px; line-height:26px">
{3&nbsp;2&nbsp;1&nbsp;4&nbsp;5&nbsp;6}<span style="font-family:宋体">、</span><span style="font-family:'Courier New'">{1&nbsp;4&nbsp;3&nbsp;2&nbsp;5&nbsp;6}</span><span style="font-family:宋体">、</span><span style="font-family:'Courier New'">{1&nbsp;2&nbsp;5&nbsp;4&nbsp;3&nbsp;6}</span><span style="font-family:宋体">、</span><span style="font-family:'Courier New'">{1&nbsp;2&nbsp;3&nbsp;6&nbsp;5&nbsp;4}</span></p>
<p style="color:rgb(51,51,51); font-family:Arial; font-size:14px; line-height:26px">
然后继续搜索即可得到终点，此时操作数就是搜索到的节点所在的层数<span style="font-family:'Courier New'">2</span><span style="font-family:宋体">。</span></p>
<p style="color:rgb(51,51,51); font-family:Arial; font-size:14px; line-height:26px">
<span style="font-size:12px"></span></p>
<h1 style="margin:0px; padding:0px; color:rgb(51,51,51); font-family:Arial; line-height:26px">
7.OJ<span style="font-family:宋体">题目</span></h1>
<span style="font-size:12px; font-family:宋体"></span>
<p></p>
<p style="color:rgb(51,51,51); font-family:Arial; font-size:14px; line-height:26px">
题目分类来自网络：</p>
<p style="color:rgb(51,51,51); font-family:Arial; font-size:14px; line-height:26px">
<a target="_blank" target="_blank" href="http://soj.me/" style="color:rgb(51,102,153); text-decoration:none"><span style="color:rgb(0,0,255)">sicily</span></a>：<span style="font-family:'Courier New'">1048&nbsp;1444&nbsp;1215&nbsp;1135&nbsp;1150&nbsp;1151&nbsp;1114</span></p>
<p style="color:rgb(51,51,51); font-family:Arial; font-size:14px; line-height:26px">
<a target="_blank" target="_blank" href="http://poj.org/" style="color:rgb(51,102,153); text-decoration:none"><span style="color:rgb(0,0,255)">pku</span></a>：1136&nbsp;1249&nbsp;1028&nbsp;1191&nbsp;3278&nbsp;1426&nbsp;3126&nbsp;3087&nbsp;3414&nbsp;</p>
<p style="color:rgb(51,51,51); font-family:Arial; font-size:14px; line-height:26px">
</p>
<h1 style="margin:0px; padding:0px; color:rgb(51,51,51); font-family:Arial; line-height:26px">
8.<span style="font-family:宋体">总结</span></h1>
<p></p>
<h1 style="margin:0px; padding:0px; color:rgb(51,51,51); font-family:Arial; line-height:26px">
<span style="font-size:12px; font-family:宋体"></span></h1>
<p style="color:rgb(51,51,51); font-family:Arial; font-size:14px; line-height:26px">
假设图有<span style="font-family:'Courier New'">V</span><span style="font-family:宋体">个顶点，</span><span style="font-family:'Courier New'">E</span><span style="font-family:宋体">条边，广度优先搜索算法需要搜索</span><span style="font-family:'Courier New'">V</span><span style="font-family:宋体">个节点，因此这里的消耗是</span><span style="font-family:'Courier New'">O(V)</span><span style="font-family:宋体">，在搜索过程中，又需要根据边来增加队列的长度，于是这里需要消耗</span><span style="font-family:'Courier New'">O(E)</span><span style="font-family:宋体">，总得来说，</span><span style="color:rgb(255,0,0)">效率大约是<span style="font-family:'Courier New'">O(V&#43;E)</span></span>。</p>
<p style="color:rgb(51,51,51); font-family:Arial; font-size:14px; line-height:26px">
其实最影响<span style="font-family:'Courier New'">BFS</span><span style="font-family:宋体">算法的是在于</span><span style="font-family:'Courier New'">Hash</span><span style="font-family:宋体">运算</span>，我们前面给出了一个<span style="font-family:'Courier New'">visit</span><span style="font-family:宋体">数组，已经算是最快的</span><span style="font-family:'Courier New'">Hash</span><span style="font-family:宋体">了，但有些题目来说可能</span><span style="font-family:'Courier New'">Hash</span><span style="font-family:宋体">的速度要退化到</span><span style="font-family:'Courier New'">O(lgn)</span><span style="font-family:宋体">的复杂度，当然了，具体还是看实际情况的。</span></p>
<p style="color:rgb(51,51,51); font-family:Arial; font-size:14px; line-height:26px">
<span style="color:rgb(255,0,0)">BFS<span style="font-family:宋体">适合此类题目：给定初始状态跟目标状态，要求从初始状态到目标状态的最短路径。</span></span></p>
<h1 style="margin:0px; padding:0px; color:rgb(51,51,51); font-family:Arial; line-height:26px">
<a target="_blank" target="_blank" name="t17" style="color:rgb(51,102,153)"></a>9.<span style="font-family:宋体">扩展</span></h1>
<p style="color:rgb(51,51,51); font-family:Arial; font-size:14px; line-height:26px">
进而扩展的话就是双向广度搜索算法，顾名思义，即是从起点跟终点分别做广度优先搜索，直到他们的搜索过程中有一个节点相同了，于是就找到了起点跟终点的一条路径。</p>
<p style="color:rgb(51,51,51); font-family:Arial; font-size:14px; line-height:26px">
腾讯笔试题目：假设每个人平均是有<span style="font-family:'Courier New'">25</span><span style="font-family:宋体">个好友，根据六维理论，任何人之间的联系一定可以通过</span><span style="font-family:'Courier New'">6</span><span style="font-family:宋体">个人而间接认识，间接通过</span><span style="font-family:'Courier New'">N</span><span style="font-family:宋体">个人认识的，那他就是你的</span><span style="font-family:'Courier New'">N</span><span style="font-family:宋体">度好友，现在要你编程验证这个</span><span style="font-family:'Courier New'">6</span><span style="font-family:宋体">维理论。</span></p>
<p style="color:rgb(51,51,51); font-family:Arial; font-size:14px; line-height:26px">
此题如果直接做广度优先搜索，那么搜索的节点数可能达到<span style="font-family:'Courier New'">25^</span>6，如果是用双向的话，两个树分别只需要搜索到<span style="font-family:'Courier New'">3</span><span style="font-family:宋体">度好友即可，搜索节点最多为</span><span style="font-family:'Courier New'">25^</span>3个，但是用双向广度算法的话会有一个问题要解决，就是你如何在搜索的过程中判断第一棵树中的节点跟第二棵树中的节点有相同的呢？按我的理解，可以用<span style="font-family:'Courier New'">Hash</span><span style="font-family:宋体">，又或者放进队列的元素都是指向原来节点的指针，而每个节点加入一个</span><span style="font-family:'Courier New'">color</span><span style="font-family:宋体">的属性，这样再搜索过程中就可以根据节点的</span><span style="font-family:'Courier New'">color</span><span style="font-family:宋体">来判断是否已经被搜索过了。</span></p>
<p style="color:rgb(51,51,51); font-family:Arial; font-size:14px; line-height:26px">
</p>
<p style="color:rgb(51,51,51); font-family:Arial; font-size:14px; line-height:26px">
=========================================================</p>
<p style="color:rgb(51,51,51); font-family:Arial; font-size:14px; line-height:26px">
本文出处：<span style="font-family:'Courier New'">raphealguo@CSDN：<a target="_blank" target="_blank" href="http://blog.csdn.net/raphealguo" style="color:rgb(51,102,153); text-decoration:none">http://blog.csdn.net/raphealguo</a></span></p>


本文章由<a href="http://chenhaoxiang.cn/">[谙忆]</a>编写， 所有权利保留。 
欢迎转载，分享是进步的源泉。
<blockquote cite='陈浩翔'>
<p background-color='#D3D3D3'>转载请注明出处：<a href='http://chenhaoxiang.cn'><font color="green">http://chenhaoxiang.cn</font></a><br><br>
本文源自<strong>【<a href='http://chenhaoxiang.cn' target='_blank'>人生之旅_谙忆的博客</a>】</strong></p>
</blockquote>
