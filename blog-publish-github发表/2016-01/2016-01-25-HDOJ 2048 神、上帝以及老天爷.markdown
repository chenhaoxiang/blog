---
layout: post
title: "HDOJ 2048 神、上帝以及老天爷"
date: 2016-01-25 05:17:06 +0800
comments: true
categories:❶ ACM,----- HDOJ-JAVA
tags: []
keyword: 陈浩翔, 谙忆
description: Problem Description 
HDU 2006’10 ACM contest的颁奖晚会隆重开始了！ 
为了活跃气氛，组织者举行了一个别开生面、奖品丰厚的抽奖活动，这个活动的具体要求是这样的：首先，所有参加晚会的人员都将一张写有自己名字的字条放入抽奖箱中； 
然后，待所有字条加入完毕，每人从箱中取一个字条； 
最后，如果取得的字条上写的就是自己的名字，那么“恭喜你，中奖了！”大家可以想象一 
---


Problem Description 
HDU 2006’10 ACM contest的颁奖晚会隆重开始了！ 
为了活跃气氛，组织者举行了一个别开生面、奖品丰厚的抽奖活动，这个活动的具体要求是这样的：首先，所有参加晚会的人员都将一张写有自己名字的字条放入抽奖箱中； 
然后，待所有字条加入完毕，每人从箱中取一个字条； 
最后，如果取得的字条上写的就是自己的名字，那么“恭喜你，中奖了！”大家可以想象一
<!-- more -->
----------

Problem Description
HDU 2006'10 ACM contest的颁奖晚会隆重开始了！
为了活跃气氛，组织者举行了一个别开生面、奖品丰厚的抽奖活动，这个活动的具体要求是这样的：

首先，所有参加晚会的人员都将一张写有自己名字的字条放入抽奖箱中；
然后，待所有字条加入完毕，每人从箱中取一个字条；
最后，如果取得的字条上写的就是自己的名字，那么“恭喜你，中奖了！”

大家可以想象一下当时的气氛之热烈，毕竟中奖者的奖品是大家梦寐以求的Twins签名照呀！不过，正如所有试图设计的喜剧往往以悲剧结尾，这次抽奖活动最后竟然没有一个人中奖！

我的神、上帝以及老天爷呀，怎么会这样呢？

不过，先不要激动，现在问题来了，你能计算一下发生这种情况的概率吗？

不会算？难道你也想以悲剧结尾？！

 

Input
输入数据的第一行是一个整数C,表示测试实例的个数，然后是C 行数据，每行包含一个整数n(1 < n <=20),表示参加抽奖的人数。


 

Output
对于每个测试实例，请输出发生这种情况的百分比，每个实例的输出占一行, 结果保留两位小数(四舍五入)，具体格式请参照sample output。


 

Sample Input
1
2
 

Sample Output
50.00%


题目分析：
给每人编上一个名字编号1、2、3.....第1个人可能与第二个人的名字、第三个人的名字、.....第n个人的名字配对。有n-1种情况。

考虑其中一种情况 设第一个人与第二个人的名字配对。那第二个人可能是与第一个人的名字配对，也可能不与第一个人名字配对，根据这再细分为两种情况。
若第二个人与1配对，那么剩下的n-2个人是3、4、5...n的错位排列。记为d(n-2);
若不与1配对，那么剩下的n-1个人是1，3，4，5....n的错位排列。记为d(n-1);

关键是看第二个人是不是与第一个人的名字配对。若是，第二个人已确定，不算进错位排列，有d(n-2)种错位方式。不是则d(n-1)种错位方式。
所以总数d(n)=(n-1)*(d(n-1)+d(n-2))


```
import java.util.Scanner;

public class Main{

    public static void main(String[] args) {
        double[] key = new double[21];
        key[0]=0;
        key[1]=0;
        key[2]=1;
        for(int i=3;i<21;i++){
            key[i] = (i-1)*(key[i-1]+key[i-2]);
        }
        
        Scanner sc = new Scanner(System.in);
        int n = sc.nextInt();
        while(n-->0){
            int m = sc.nextInt();
            
            for(int i=1;i<=m;i++){
                key[m]=key[m]/i;
            }
            
            System.out.printf("%.2f",(key[m]*100));
            System.out.println("%");
        }
        
        
    }

}

```





本文章由<a href="http://chenhaoxiang.cn/">[谙忆]</a>编写， 所有权利保留。 
欢迎转载，分享是进步的源泉。
<blockquote cite='陈浩翔'>
<p background-color='#D3D3D3'>转载请注明出处：<a href='http://chenhaoxiang.cn'><font color="green">http://chenhaoxiang.cn</font></a><br><br>
本文源自<strong>【<a href='http://chenhaoxiang.cn' target='_blank'>人生之旅_谙忆的博客</a>】</strong></p>
</blockquote>
